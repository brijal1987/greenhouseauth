{"ast":null,"code":"var _jsxFileName = \"/Users/brijalsavaliya/brijal/brijalsavaliya/techholding/Backup/greenhouseauth/src/App.js\";\nimport React, { Component } from 'react'; //import { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport { Route, Switch } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport Header from './components/Header/Header';\nimport Sidebar from './components/Sidebar/Sidebar';\nimport Home from './components/Home/Home';\nimport copy from './copy';\nimport Login from \"./components/Login/Login\";\nimport Register from \"./components/Register/Register\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this._getUsers = async () => {\n      let res = await axios.get(\"http://localhost:8000/api/user/getData\");\n      let data = res.data.data;\n      console.log(\"users\", data);\n      this.setState({\n        pessengers: data,\n        isLoading: false\n      });\n    };\n\n    this._loginUser = (email, password) => {\n      var formData = new FormData();\n      formData.append(\"email\", email);\n      formData.append(\"password\", password);\n      axios.post(\"http://localhost:8000/api/user/login/\", formData).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          let userData = {\n            name: json.data.data.name,\n            id: json.data.data.id,\n            email: json.data.data.email,\n            auth_token: json.data.data.auth_token,\n            timestamp: new Date().toString()\n          };\n          let appState = {\n            isLoggedIn: true,\n            user: userData\n          }; // save app state with user date in local storage\n\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            isLoggedIn: appState.isLoggedIn,\n            user: appState.user\n          });\n        } else alert(\"Login Failed!\");\n      }).catch(error => {\n        alert(\"An Error Occured! \".concat(error));\n      });\n    };\n\n    this._registerUser = (name, email, password) => {\n      var formData = new FormData();\n      formData.append(\"password\", password);\n      formData.append(\"email\", email);\n      formData.append(\"name\", name);\n      axios.post(\"http://localhost:8000/api/user/register\", formData).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          let userData = {\n            name: json.data.data.name,\n            id: json.data.data.id,\n            email: json.data.data.email,\n            auth_token: json.data.data.auth_token,\n            timestamp: new Date().toString()\n          };\n          let appState = {\n            isLoggedIn: true,\n            user: userData\n          }; // save app state with user date in local storage\n\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            isLoggedIn: appState.isLoggedIn,\n            user: appState.user\n          });\n        } else {}\n      }).catch(error => {\n        alert(\"An Error Occured!\" + error);\n        console.log(\"\".concat(formData, \" \").concat(error));\n      });\n    };\n\n    this._logoutUser = () => {\n      let appState = {\n        isLoggedIn: false,\n        user: {}\n      }; // save app state with user date in local storage\n\n      localStorage[\"appState\"] = JSON.stringify(appState);\n      this.setState(appState);\n    };\n\n    this.state = {\n      isLoggedIn: false,\n      user: {},\n      pessengers: {},\n      isLoading: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n\n    this._getUsers();\n\n    let state = localStorage[\"appState\"];\n\n    if (state) {\n      let AppState = JSON.parse(state);\n      this.setState({\n        isLoggedIn: AppState.isLoggedIn,\n        user: AppState\n      });\n    }\n  }\n\n  render() {\n    if (!this.state.isLoggedIn && this.props.location.pathname !== \"/login\" && this.props.location.pathname !== \"/register\") {\n      console.log(\"you are not loggedin and are not visiting login or register, so go to login page\");\n      this.props.history.push(\"/login\");\n    }\n\n    if (this.state.isLoggedIn && (this.props.location.pathname === \"/login\" || this.props.location.pathname === \"/register\")) {\n      console.log(\"you are either going to login or register but youre logged in\");\n      this.props.history.push(\"/\");\n    }\n\n    const isLoading = this.state.isLoading;\n    return React.createElement(Switch, {\n      data: \"data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      id: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Header, {\n      isLoggedIn: this.state.isLoggedIn,\n      logoutUser: this._logoutUser,\n      copy: copy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-9 box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: props => React.createElement(React.Fragment, null, !isLoading ? React.createElement(Home, Object.assign({}, props, {\n        copy: copy\n      }, this.state, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      })) : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Loading...\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      render: props => React.createElement(Login, Object.assign({}, props, {\n        loginUser: this._loginUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/register\",\n      render: props => React.createElement(Register, Object.assign({}, props, {\n        registerUser: this._registerUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/about\",\n      component: About,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md-3 box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Sidebar, {\n      copy: copy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nfunction About() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, \"About\"));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/brijalsavaliya/brijal/brijalsavaliya/techholding/Backup/greenhouseauth/src/App.js"],"names":["React","Component","Route","Switch","Header","Sidebar","Home","copy","Login","Register","axios","$","App","constructor","props","_getUsers","res","get","data","console","log","setState","pessengers","isLoading","_loginUser","email","password","formData","FormData","append","post","then","response","json","success","userData","name","id","auth_token","timestamp","Date","toString","appState","isLoggedIn","user","localStorage","JSON","stringify","alert","catch","error","_registerUser","_logoutUser","state","componentDidMount","AppState","parse","render","location","pathname","history","push","About"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport Header  from './components/Header/Header';\nimport Sidebar  from './components/Sidebar/Sidebar';\nimport Home  from './components/Home/Home';\nimport copy from './copy';\n\nimport Login from \"./components/Login/Login\";\nimport Register from \"./components/Register/Register\";\n\nimport axios from \"axios\";\nimport $ from \"jquery\";\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false,\n      user: {},\n      pessengers : {},\n      isLoading: false,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    this._getUsers();\n    let state = localStorage[\"appState\"];\n    if (state) {\n      let AppState = JSON.parse(state);\n      this.setState({ isLoggedIn: AppState.isLoggedIn, user: AppState });\n    }\n\n  }\n\n  _getUsers = async () => {\n    let res = await axios.get(\"http://localhost:8000/api/user/getData\");\n    let { data } = res.data;\n    console.log(\"users\", data);\n    this.setState({ pessengers: data, isLoading:false });\n };\n\n  _loginUser = (email, password) => {\n    var formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n\n    axios\n      .post(\"http://localhost:8000/api/user/login/\", formData)\n      .then(response => {\n        console.log(response);\n        return response;\n      })\n      .then(json => {\n        if (json.data.success) {\n\n          let userData = {\n            name: json.data.data.name,\n            id: json.data.data.id,\n            email: json.data.data.email,\n            auth_token: json.data.data.auth_token,\n            timestamp: new Date().toString()\n          };\n          let appState = {\n            isLoggedIn: true,\n            user: userData\n          };\n          // save app state with user date in local storage\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            isLoggedIn: appState.isLoggedIn,\n            user: appState.user\n          });\n        } else alert(\"Login Failed!\");\n      })\n      .catch(error => {\n        alert(`An Error Occured! ${error}`);\n      });\n  };\n\n  _registerUser = (name, email, password) => {\n    var formData = new FormData(); \n    formData.append(\"password\", password);\n    formData.append(\"email\", email);\n    formData.append(\"name\", name);\n\n    axios\n    .post(\"http://localhost:8000/api/user/register\", formData)\n    .then(response => {\n    console.log(response);\n    return response;\n    })\n    .then(json => {\n    if (json.data.success) {\n\n        let userData = {\n        name: json.data.data.name,\n        id: json.data.data.id,\n        email: json.data.data.email,\n        auth_token: json.data.data.auth_token,\n        timestamp: new Date().toString()\n        };\n        let appState = {\n        isLoggedIn: true,\n        user: userData\n        };\n        // save app state with user date in local storage\n        localStorage[\"appState\"] = JSON.stringify(appState);\n        this.setState({\n        isLoggedIn: appState.isLoggedIn,\n        user: appState.user\n        });\n    } else {\n    }\n    })\n    .catch(error => {\n    alert(\"An Error Occured!\" + error);\n    console.log(`${formData} ${error}`);\n    });\n  };\n\n  _logoutUser = () => {\n    let appState = {\n      isLoggedIn: false,\n      user: {}\n    };\n    // save app state with user date in local storage\n    localStorage[\"appState\"] = JSON.stringify(appState);\n    this.setState(appState);\n  };\n\n  render() {\n    if (\n      !this.state.isLoggedIn &&\n      this.props.location.pathname !== \"/login\" &&\n      this.props.location.pathname !== \"/register\"\n    ) {\n      console.log(\n        \"you are not loggedin and are not visiting login or register, so go to login page\"\n      );\n      this.props.history.push(\"/login\");\n    }\n    if (\n      this.state.isLoggedIn &&\n      (this.props.location.pathname === \"/login\" ||\n        this.props.location.pathname === \"/register\")\n    ) {\n      console.log(\n        \"you are either going to login or register but youre logged in\"\n      );\n\n      this.props.history.push(\"/\");\n    }\n    const { isLoading } = this.state;\n\n    return (\n      <Switch data=\"data\">\n        <div className=\"App\" id=\"main\">\n          <Header isLoggedIn={this.state.isLoggedIn} logoutUser={this._logoutUser} copy={copy}></Header>\n          <div className=\"row\">\n            <div className=\"col-md-9 box\">\n              <div className=\"inner\">\n                <Route\n                  exact\n                  path=\"/\"\n                  render={props => (\n                    <>\n                    {!isLoading ?\n                    <Home\n                      {...props}\n                      copy={copy}\n                      {...this.state}                    />\n                    : <h3>Loading...</h3>\n                    }\n                      </>\n                  )}\n                />\n                <Route\n                  path=\"/login\"\n                  render={props => <Login {...props} loginUser={this._loginUser} />}\n                />\n\n                <Route\n                  path=\"/register\"\n                  render={props => (\n                    <Register {...props} registerUser={this._registerUser} />\n                  )}\n                />\n                <Route path=\"/about\" component={About} />\n              </div>\n            </div>\n            <div className=\"col-md-3 box\">\n              <div className=\"inner\">\n                <Sidebar copy={copy}></Sidebar>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Switch>\n    );\n  }\n}\n\nfunction About() {\n  return (\n    <div>\n      <h2>About</h2>\n    </div>\n  );\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}